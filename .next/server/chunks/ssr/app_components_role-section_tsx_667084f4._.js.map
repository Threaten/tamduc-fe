{"version":3,"sources":["turbopack:///[project]/app/components/role-section.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useMemo } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nexport interface StaffMember {\n  id?: string;\n  slug: string;\n  name: string;\n  role: string;\n  years?: number;\n  languages?: { value: string }[];\n  schedule?: { day: string; time: string }[];\n  photo?: { url?: string };\n}\n\ninterface RoleSectionProps {\n  role: string;\n  members: StaffMember[];\n  perPage?: number;\n  slugPrefix?: string; // e.g. /departments/{slug}/staffs\n  mediaBase?: string; // base URL to prepend to relative photo paths\n}\n\nexport function RoleSection({\n  role,\n  members,\n  perPage = 6,\n  slugPrefix,\n  mediaBase = \"\",\n}: RoleSectionProps) {\n  const [page, setPage] = useState(1);\n  const total = members.length;\n  const totalPages = Math.max(1, Math.ceil(total / perPage));\n\n  const pageItems = useMemo(() => {\n    const start = (page - 1) * perPage;\n    return members.slice(start, start + perPage);\n  }, [page, perPage, members]);\n\n  function next() {\n    setPage((p) => (p < totalPages ? p + 1 : p));\n  }\n  function prev() {\n    setPage((p) => (p > 1 ? p - 1 : p));\n  }\n\n  if (!members.length) return null;\n\n  return (\n    <section className=\"role-section\">\n      <h3 className=\"text-lg font-semibold mb-5 flex items-center gap-2\">\n        {role}\n        {role === \"Doctor\" || role === \"Nurse\" ? \"s\" : \"\"}\n        <span className=\"text-xs font-normal rounded-full border border-black/10 dark:border-white/15 px-2 py-0.5\">\n          {total}\n        </span>\n      </h3>\n      <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {pageItems.map((d) => (\n          <div\n            key={d.slug}\n            className=\"rounded-xl border border-black/10 dark:border-white/10 p-5\"\n          >\n            <div className=\"h-32 rounded-lg border border-black/10 dark:border-white/10 relative overflow-hidden flex items-center justify-center text-xs opacity-60\">\n              {d.photo?.url ? (\n                <Image\n                  src={\n                    d.photo.url.startsWith(\"http\")\n                      ? d.photo.url\n                      : `${mediaBase}/${d.photo.url}`\n                  }\n                  fill\n                  alt={d.name}\n                  className=\"object-contain\"\n                />\n              ) : (\n                <span>No photo</span>\n              )}\n            </div>\n            <h4 className=\"font-medium mt-3\">{d.name}</h4>\n            <p className=\"text-sm opacity-80\">{d.role}</p>\n            {d.years !== undefined && (\n              <p className=\"text-xs mt-1 opacity-70\">\n                {d.years}+ yrs •{\" \"}\n                {(d.languages || []).map((l) => l.value).join(\", \")}\n              </p>\n            )}\n            {d.schedule?.length ? (\n              <div className=\"mt-3 text-xs opacity-80\">\n                <p>Schedule:</p>\n                <ul className=\"list-disc pl-5 space-y-0.5\">\n                  {d.schedule.map((s) => (\n                    <li key={`${s.day}-${s.time}`}>\n                      {s.day} {s.time}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ) : null}\n            <div className=\"mt-4 flex gap-3\">\n              <Link\n                href={`/teams/${d.slug}`}\n                className=\"text-sm underline underline-offset-4\"\n              >\n                View profile →\n              </Link>\n            </div>\n          </div>\n        ))}\n      </div>\n      {totalPages > 1 && (\n        <div className=\"mt-6 flex items-center justify-between gap-4 text-sm\">\n          <button\n            onClick={prev}\n            disabled={page === 1}\n            className=\"px-3 py-1 border border-black/10 dark:border-white/10 rounded disabled:opacity-40\"\n            aria-label=\"Previous page\"\n          >\n            Prev\n          </button>\n          <div className=\"flex items-center gap-2 text-xs\">\n            <span>\n              Page {page} / {totalPages}\n            </span>\n          </div>\n          <button\n            onClick={next}\n            disabled={page === totalPages}\n            className=\"px-3 py-1 border border-black/10 dark:border-white/10 rounded disabled:opacity-40\"\n            aria-label=\"Next page\"\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}